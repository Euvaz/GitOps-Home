---
version: "3"

tasks:
  prepare:
    desc: Prepare hosts for Kubernetes
    cmds:
      - ansible-playbook --inventory {{.ANSIBLE_DIR}}/inventory/{{.ENV}}.yaml {{.ANSIBLE_DIR}}/playbooks/cluster-prepare.yaml
  install:
    desc: Install Kubernetes on Hosts
    cmds:
      - ansible-playbook --inventory {{.ANSIBLE_DIR}}/inventory/{{.ENV}}.yaml {{.ANSIBLE_DIR}}/playbooks/cluster-installation.yaml
  nuke:
    desc: Uninstall Kubernetes from Hosts
    cmds:
      - ansible-playbook --inventory {{.ANSIBLE_DIR}}/inventory/{{.ENV}}.yaml {{.ANSIBLE_DIR}}/playbooks/cluster-uninstallation.yaml
